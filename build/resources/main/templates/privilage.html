<!DOCTYPE html>
<html lang="en">
<!-- Insert CSS and head JS here -->

<head th:replace="~{fragmentlinks :: headResourcesLinks}"></head>

<head>
    <!-- Custom CSS files -->
    <link rel="stylesheet" href="/css/employee.css">
    <link rel="stylesheet" href="/css/dashboard.css">

</head>

<body>

    <!-- Bootstrap Navigation Bar Start-->
    <div th:replace="~{topnavbar :: topNavBarFragment}"></div>
    
    <!-- Bootstrap Navigation Bar End-->


    <div class="container-fluid">
        <!-- Title Start -->
        <div class="row">
            <div class="col-12 fw-bold header p-2">
                <h2><i class="fa-solid fa-user-shield"></i> Privilage Management</h2>
            </div>
        </div><br>
        <!-- Title End -->

        <div class="card p-3">
            <div class="row">
                <div class="col-12 text-end">
                    <!-- Button trigger offcanvas -->
                    <button type="button" class="btn offcanvas-btn fw-bold" data-bs-toggle="offcanvas" data-bs-target="#offcanvasPrivilageForm">
                        <i class="fa-solid fa-user-plus"></i> NEW PRIVILAGE
                    </button>
                    <!-- Helping text below the button -->
                    <small class="text-muted d-block mt-2">Click this to add a new privilage</small>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Table Start -->
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <table id="tablePrivilage" class="table table-hover table-script table-container table-bordered">
                            <thead class="custom-thead fw-bold">
                                <tr>
                                    <th>#</th>
                                    <th>Role</th>
                                    <th>Module</th>
                                    <th>Select</th>
                                    <th>Insert</th>
                                    <th>Update</th>
                                    <th>Delete</th>
                                    <th>Modify</th>
                                </tr>
                            </thead>
                            <tbody class="custom-tbody fw-bold" id="tableBodyPrivilage">

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- Table End -->
        </div>

        <!-- Form Off canvas -->
        <div class="offcanvas offcanvas-end" style="width: 50%;" tabindex="-1" id="offcanvasPrivilageForm" role="dialog">
            <div class="offcanvas-content">
                <div class="offcanvas-dialog">
                    <div class="offcanvas-header" aria-labelledby="offcanvasExampleLabel">
                        <h5 class="offcanvas-title text-center w-100" id="offcanvasExampleLabel"><i class="fa-solid fa-user-tie"></i> Privilage Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="card">
                            <div class="card-body">
                                <form onsubmit="return false" id="formPrivilage">

                                    <div class="row mt-1">
                                        <!-- Required mark start -->
                                        <div class="col text-end fw-bold">
                                            <p>Required <span class="text-danger">*</span></p>
                                        </div>
                                        <!-- Required mark end -->
                                    </div>

                                    <!-- Role start -->
                                    <div class="row mt-2">
                                        <div class="col-4">
                                            <label for="selectRole" class="form-label fw-bold 
                                        mt-2"> Role : <span class="text-danger">*</span></label>
                                        </div>
                                        <div class="col-8">
                                            <select name="" required id="selectRole" class="form-select" onchange="selectDynamicElementValidator(this,'privilage','role_id')">
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Role end -->

                                    <!-- Module start -->
                                    <div class="row mt-2">
                                        <div class="col-4">
                                            <label for="selectModule" class="form-label fw-bold 
                                        mt-2"> Module : <span class="text-danger">*</span></label>
                                        </div>
                                        <div class="col-8">
                                            <select name="" required id="selectModule" class="form-select" onchange="selectDynamicElementValidator(this,'privilage','module_id')">
                                            </select>
                                        </div>
                                    </div>
                                    <!-- Module end -->

                                    <!-- Select start -->
                                    <div class="row mt-2">
                                        <div class="col-4 fw-bold">
                                            <label for="selectModule" class="form-label fw-bold">Select :</label>
                                        </div>
                                        <div class="col-8 fw-bold">
                                            <div class="form-check form-check-inline">
                                                <input type="checkbox" class="form-check-input" id="chkBoxSelect" onchange="if (this.checked) {
                                                privilage.privilage_select = true;
                                                labelSelect.innerText = 'Select Privilege Granted';
                                            } else {
                                                privilage.privilage_select = false;
                                                labelSelect.innerText = 'Select Privilege Not-Granted';
                                            }">
                                                <label for="chkBoxSelect" id="labelSelect" class="form-check-label fw-bold">Granted</label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Select end -->

                                    <!-- Insert start -->
                                    <div class="row mt-2">
                                        <div class="col-4 fw-bold">
                                            <label for="selectModule" class="form-label fw-bold">Insert :</label>
                                        </div>
                                        <div class="col-8 fw-bold">
                                            <div class="form-check form-check-inline">
                                                <input type="checkbox" class="form-check-input" id="chkBoxInsert" onchange="if (this.checked) {
                                                privilage.privilage_insert = true;
                                                labelInsert.innerText = 'Insert Privilege Granted';
                                            } else {
                                                privilage.privilage_insert = false;
                                                labelInsert.innerText = 'Insert Privilege Not-Granted';
                                            }">
                                                <label for="chkBoxInsert" id="labelInsert" class="form-check-label fw-bold">Granted</label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Insert end -->

                                    <!-- Update start -->
                                    <div class="row mt-2">
                                        <div class="col-4 fw-bold">
                                            <label for="selectModule" class="form-label fw-bold">Update :</label>
                                        </div>
                                        <div class="col-8 fw-bold">
                                            <div class="form-check form-check-inline">
                                                <input type="checkbox" class="form-check-input" id="chkBoxUpdate" onchange="if (this.checked) {
                                                privilage.privilage_update = true;
                                                labelUpdate.innerText = 'Update Privilege Granted';
                                            } else {
                                                privilage.privilage_update = false;
                                                labelUpdate.innerText = 'Update Privilege Not-Granted';
                                            }">
                                                <label for="chkBoxUpdate" id="labelUpdate" class="form-check-label fw-bold">Granted</label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Update end -->

                                    <!-- Delete start -->
                                    <div class="row mt-2">
                                        <div class="col-4 fw-bold">
                                            <label for="selectModule" class="form-label fw-bold">Delete :</label>
                                        </div>
                                        <div class="col-8 fw-bold">
                                            <div class="form-check form-check-inline">
                                                <input type="checkbox" class="form-check-input" id="chkBoxDelete" onchange="if (this.checked) {
                                                privilage.privilage_delete = true;
                                                labelDelete.innerText = 'Delete Privilege Granted';
                                            } else {
                                                privilage.privilage_delete = false;
                                                labelDelete.innerText = 'Delete Privilege Not-Granted';
                                            }">
                                                <label for="chkBoxDelete" id="labelDelete" class="form-check-label fw-bold">Granted</label>
                                            </div>
                                        </div>
                                    </div><br>
                                    <!-- Delete end -->

                                    <!-- Add/Update/Delete/Submit Buttons Start -->
                                    <div class="row mt-2">

                                        <div class="col-3 text-start">
                                            <button type="button" class="custom-btn btn btn-outline-info btn-sm fw-bold" onclick="clearPrivilageForm()">
                                                <i class="fa-solid fa-recycle fa-sm"></i> Clear
                                            </button>
                                        </div>
                                        <div class="col-9 text-end">

                                            <button type="submit" id="buttonUpdate" class="custom-btn btn btn-outline-warning me-2 fw-bold btn-sm" onclick="buttonPrivilageUpdate(this)">
                                                <i class="fa-solid fa-user-pen fa-sm"></i> Update
                                            </button>


                                            <button type="submit" id="buttonSubmit" class="custom-btn btn btn-outline-success fw-bold btn-sm" onclick="buttonPrivilageSubmit(this)">
                                                Submit <i class="fa-solid fa-paper-plane fa-sm"></i></button>
                                        </div>
                                    </div>
                                    <!-- Add/Update/Delete/Submit Buttons End -->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Off-Canvas for View Privilege Details -->
        <div class="offcanvas offcanvas-end" style="width: 50%;" tabindex="-1" id="offcanvasPrivilageView" data-bs-backdrop="static" data-bs-keyboard="false" role="dialog">
            <div class="offcanvas-header d-flex justify-content-center w-100">
                <h5 class="offcanvas-title text-center flex-grow-1">
                    <i class="fa-solid fa-user-tie"></i> View Privilege Details
                </h5>
                <button type="button" class="btn-close position-absolute end-0 me-3" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div class="card">
                    <div class="card-body">
                        <table class="table table-hover table-container table-bordered" id="tablePrivilageView">
                            <tr>
                                <th>Role</th>
                                <td id="tdPrivilageRole"></td>
                            </tr>
                            <tr>
                                <th>Module</th>
                                <td id="tdPrivilageModule"></td>
                            </tr>
                            <tr>
                                <th>Select Privilege</th>
                                <td id="tdSelectPrivilage"></td>
                            </tr>
                            <tr>
                                <th>Insert Privilege</th>
                                <td id="tdInsertPrivilage"></td>
                            </tr>
                            <tr>
                                <th>Update Privilege</th>
                                <td id="tdUpdatePrivilage"></td>
                            </tr>
                            <tr>
                                <th>Delete Privilege</th>
                                <td id="tdDeletePrivilage"></td>
                            </tr>
                        </table>
                    </div>
                    <div class="offcanvas-footer text-end">
                        <button class="btn btn-outline-info btn-sm fw-bold" onclick="buttonPrintRow()">
                            <i class="fa-solid fa-print fa-sm"></i> Print
                        </button>
                    </div>
                </div>
            </div>
        </div>



    </div>



    <!-- Link js file -->
    <script src="/js/commonTableFunction.js"></script>
    <script src="/uicontroller/privilage.js"></script>
    <script src="/js/validationFunction.js"></script>
    <script src="/js/commonFunction.js"></script>
</body>